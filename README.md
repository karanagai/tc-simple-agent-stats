# TeamCity Agent Statistics Monitor

A command-line tool for monitoring TeamCity build agents and queue statistics in real-time. This tool is generated by JetBrains Junie.

## Description

TeamCity Agent Statistics Monitor periodically retrieves and displays the following statistics from a TeamCity server:
- Number of builds in the build queue
- Total number of live agents
- Number of agents currently running builds

The tool outputs statistics to the console and optionally to a CSV file for further analysis.

## Installation

### Prerequisites
- Java 8 or higher
- Maven (for building from source)

### Building from source
1. Clone this repository
2. Navigate to the project directory
3. Build with Maven:
   ```
   mvn clean package
   ```
4. The compiled JAR will be available in the `target` directory

## Usage

Run the tool using the following command:

```
java -jar AgentStats.jar <interval_seconds> <teamcity_url> <teamcity_token> [output_file_path]
```

### Parameters

- `interval_seconds`: The interval between statistics updates in seconds (must be a positive integer)
- `teamcity_url`: The URL of your TeamCity server (e.g., `https://teamcity.example.com`)
- `teamcity_token`: Your TeamCity authentication token
- `output_file_path`: (Optional) Path to a file where statistics will be written in CSV format

### Example

```
java -jar AgentStats.jar 30 https://teamcity.example.com abc123token456 ./stats.csv
```

This will:
1. Connect to the TeamCity server at `https://teamcity.example.com`
2. Authenticate using the token `abc123token456`
3. Retrieve and display statistics every 30 seconds
4. Write the statistics to `./stats.csv`
5. Continue running until any key is pressed

### Output Format

The statistics are output in the following CSV format:
```
timestamp,queued_builds,total_agents,busy_agents
```

## License

[Include license information here]

---

*This README was generated by JetBrains Junie*